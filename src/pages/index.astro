---
import { getCollection } from 'astro:content';
import Container from '@components/Container.astro';
import Layout from '@layouts/Layout.astro';
import ProjectCard from '@components/ProjectCard.astro';
import StackCard from '@components/StackCard.astro';
import Link from '@components/Link.astro';
import Resume from '@components/Resume.astro';
import { dateRange } from '@lib/utils';
import { site, home, studies, skills, socials } from '@consts';

const projects = (await getCollection('projects'))
  .filter((project) => !project.data.draft)
  .sort((a, b) => b.data.startdate.valueOf() - a.data.startdate.valueOf())
  .slice(0, site.num_projects_homepage);

---

<Layout title={home.title} description={home.description}>
  <Container>
    <h1
      class='animate font-black text-black dark:text-white text-3xl md:text-4xl'>
      Hi, I'm Swastik <span class='pl-1'>ðŸ‘‹</span>
    </h1>
    <div class='space-y-10'>
      <section>
        <section class='animate'>
          <article>
            <p>
              I am a <b><i>software engineer</i></b>, <b
                ><i>ui/ux designer</i></b
              >, <b
                ><i>student</i></b
              >, <b><i>minimalist</i></b>, <b><i>eternal optimist</i></b>.
            </p>
            <p class="font-light ">
              I love to both build and break things. I am motivated by
              challenging projects with self-guided research and dynamic problem
              solving. I am always looking for new opportunities to learn and
              grow.
            </p>
            
          </article>
          <Resume />
        </section>
      </section>
      <section class='animate space-y-6'>
        <div class='flex flex-wrap gap-y-2 items-center justify-between'>
          <h5 class='font-bold text-lg md:text-xl text-black dark:text-white'>
            Skills
          </h5>
        </div>
        <ul class='flex flex-row flex-wrap items-start gap-1.5 animate'>

          {
            skills.map((entry) => (
              <StackCard name={entry.name} />
            ))
          }

        </ul>
      </section>
      <section class='animate space-y-6'>
        <div class='flex flex-wrap gap-y-2 items-center justify-between'>
          <h5 class='font-bold text-lg md:text-xl text-black dark:text-white'>
            Projects
          </h5>
          <Link href='/projects'> See all projects </Link>
        </div>

        <div class='grid grid-cols-1 md:grid-cols-2 gap-5'>
          {projects.map((project) => <ProjectCard entry={project} />)}
        </div>
        <!-- <ul class='inline-flex flex-wrap gap-3 animate'>
          {
            skills.map((entry) => (
              <li>
                <span class='  inline-flex items-center gap-x-1.5 py-1.5 px-3 rounded-md text-xs font-semibold bg-black text-white dark:bg-white dark:text-black'>
                  {entry}
                </span>
              </li>
            ))
          }
        </ul> -->
      </section>
      <section class='animate space-y-6'>
        <div class='flex flex-wrap gap-y-2 items-center justify-between'>
          <h5 class='font-bold text-lg md:text-xl text-black dark:text-white'>
            Studies
          </h5>
        </div>
        <ul class='flex flex-col space-y-4'>
          {
            studies.map((entry) => (
              <li>
                <div class='text-sm opacity-75'>
                  {dateRange(entry.start, entry.end)}
                </div>
                <div class='font-semibold text-black dark:text-white'>
                  {entry.school}
                </div>
                <div class='text-sm opacity-75 pt-1'>{entry.degree}</div>
              </li>
            ))
          }
        </ul>
      </section>
      <!-- <section class='animate space-y-6'>
        <div class='flex flex-wrap gap-y-2 items-center justify-between'>
          <h5 class='font-bold text-lg md:text-xl text-black dark:text-white'>
            Latest posts
          </h5>
          <Link href='/blog'> See all posts </Link>
        </div>
        <ul class='flex flex-col gap-4'>
          {
            blog.map((post) => (
              <li>
                <BlogCard entry={post} />
              </li>
            ))
          }
        </ul>
      </section> -->
      <section class='animate space-y-4'>
        <h5 class='font-semibold text-black dark:text-white'>Let's Connect</h5>
        <article>
          <p>
            If you want to get in touch with me about something or just to say
            hi, reach out on social media or send me an email.
          </p>
        </article>

        <ul class='flex flex-wrap gap-2'>
          {
            socials.map((social) => (
              <li class='flex gap-x-2 text-nowrap'>
                <Link
                  href={social.url}
                  external
                  aria-label={`${site.name} on ${social.name}`}>
                  {social.name}
                </Link>
                {'/'}
              </li>
            ))
          }
          <li class='line-clamp-1'>
            <Link
              href={`mailto:${site.email}`}
              aria-label={`Email ${site.name}`}>
              {site.email}
            </Link>
          </li>
        </ul>
      </section>
    </div>
  </Container>
</Layout>
